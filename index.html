<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Calculadora Jurídica Completa</title>

<style>
body{
font-family: Arial, sans-serif;
background:#fdf7fa;
padding:30px;
text-align:center;
}

.container{
background:white;
max-width:700px;
margin:auto;
padding:25px;
border-radius:18px;
box-shadow:0 5px 15px rgba(0,0,0,0.08);
}

h1{ color:#b76e79; }

label{ display:block; margin-top:15px; text-align:left; }

select,input{
width:100%;
padding:10px;
margin-top:5px;
border-radius:8px;
border:1px solid #ccc;
}

button{
width:100%;
padding:12px;
margin-top:15px;
border:none;
border-radius:10px;
background:#d88fa0;
color:white;
font-weight:bold;
cursor:pointer;
}

button:hover{ background:#c5768b; }

.resultado{
margin-top:20px;
background:#fff0f4;
padding:15px;
border-radius:10px;
text-align:left;
}
</style>
</head>

<body>

<div class="container">

<h1>Portal de Orientação sobre Prazos Judiciais</h1>
<div class="subtitulo">
Ferramenta educativa para ajudar você a entender quando termina seu prazo processual.
</div>

<label>Área do processo:</label>
<select id="categoria" onchange="carregarSubcategorias()">
<option value="">Selecione</option>
<option value="civil">Cível / Consumidor</option>
<option value="familia">Família</option>
<option value="criminal">Criminal</option>
<option value="violencia">Violência Doméstica</option>
<option value="eca">Infância e Juventude</option>
</select>

<label>Tipo de documento recebido:</label>
<select id="ato"></select>

<label>Data em que você recebeu o documento:</label>
<input type="date" id="data">

<button onclick="calcular()">Calcular meu prazo</button>

<div class="resultado" id="resultado"></div>

<div class="rodape">
Esta é uma ferramenta informativa. Sempre confirme no processo oficial ou procure um advogado ou a Defensoria Pública.
</div>

</div>

<script>

// Feriados TJPE 2026
const feriados = [
"2026-01-01","2026-02-24","2026-02-25","2026-04-03",
"2026-04-21","2026-05-01","2026-06-04","2026-06-24",
"2026-09-07","2026-10-12","2026-11-02","2026-11-15",
"2026-12-25"
];

function emRecesso(dataISO){
let inicio = new Date("2026-12-20");
let fim = new Date("2027-01-06");
let d = new Date(dataISO);
return d >= inicio && d <= fim;
}

function formatISO(date){
return date.getFullYear()+"-"+
String(date.getMonth()+1).padStart(2,'0')+"-"+
String(date.getDate()).padStart(2,'0');
}

const prazos = {

civil:{
"Responder processo (15 dias úteis)":{dias:15,tipo:"uteis",base:"CPC"},
"Recorrer da sentença (15 dias úteis)":{dias:15,tipo:"uteis",base:"CPC"},
"Embargos de declaração (5 dias úteis)":{dias:5,tipo:"uteis",base:"CPC"}
},

familia:{
"Ação de alimentos (15 dias úteis)":{dias:15,tipo:"uteis",base:"Lei 5.478/68"},
"Execução de alimentos (15 dias úteis)":{dias:15,tipo:"uteis",base:"CPC"}
},

criminal:{
"Resposta à acusação (10 dias corridos)":{dias:10,tipo:"corridos",base:"CPP"},
"Apelação criminal (5 dias corridos)":{dias:5,tipo:"corridos",base:"CPP"}
},

violencia:{
"Recurso (5 dias corridos)":{dias:5,tipo:"corridos",base:"CPP + Lei Maria da Penha"},
"Medida protetiva (decisão em até 48h)":{dias:2,tipo:"corridos",base:"Lei 11.340/06"}
},

eca:{
"Apelação (10 dias corridos)":{dias:10,tipo:"corridos",base:"ECA"},
"Defesa prévia (3 dias corridos)":{dias:3,tipo:"corridos",base:"ECA"}
}

};

function carregarSubcategorias(){
let cat=document.getElementById("categoria").value;
let ato=document.getElementById("ato");
ato.innerHTML="";
if(!cat)return;

for(let item in prazos[cat]){
let opt=document.createElement("option");
opt.value=item;
opt.text=item;
ato.appendChild(opt);
}
}

function diasCorridos(data,dias){
let d=new Date(data);
d.setDate(d.getDate()+dias);
return d;
}

function diasUteis(data,dias){
let d=new Date(data);
let cont=0;
d.setDate(d.getDate()+1);

while(cont<dias){
let dia=d.getDay();
let iso=formatISO(d);

if(dia!==0 && dia!==6 &&
!feriados.includes(iso) &&
!emRecesso(iso)){
cont++;
}

if(cont<dias){ d.setDate(d.getDate()+1); }
}
return d;
}

function calcular(){
let cat=document.getElementById("categoria").value;
let ato=document.getElementById("ato").value;
let data=document.getElementById("data").value;

if(!cat||!ato||!data){
alert("Por favor, preencha todos os campos.");
return;
}

let info=prazos[cat][ato];
let final;

if(info.tipo==="uteis"){
final=diasUteis(data,info.dias);
}else{
final=diasCorridos(data,info.dias);
}

let hoje=new Date();
let vencido=final<hoje;

document.getElementById("resultado").innerHTML=
"<strong>Data estimada para o fim do prazo:</strong> "+
final.toLocaleDateString("pt-BR")+
(vencido?"<div class='alerta'>Atenção: o prazo pode já estar vencido.</div>":"")+
"<br><br><strong>Tipo de contagem:</strong> "+
(info.tipo==="uteis"?"Dias úteis (não conta sábado, domingo e feriado)":"Dias corridos")+
"<br><strong>Base legal:</strong> "+info.base+
"<br><br>Se tiver dúvida, procure orientação jurídica imediatamente.";
}

</script>

</body>
</html>

