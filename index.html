<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Simulador Jur√≠dico TJPE - Belizza Ara√∫jo</title>
    <style>
        /* Estilo Mobile-First */
        body { font-family: 'Segoe UI', sans-serif; background: #fdf7fa; padding: 10px; margin: 0; color: #444; }
        .container { background: white; width: 95%; max-width: 500px; margin: 15px auto; padding: 20px; border-radius: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.08); box-sizing: border-box; }
        
        h1 { color: #b76e79; font-size: 1.4em; margin-bottom: 5px; }
        .subtitulo { font-size: 0.85em; color: #888; margin-bottom: 20px; }
        
        label { display: block; margin-top: 15px; text-align: left; font-weight: 600; color: #7a4a52; font-size: 0.95em; }
        
        /* Inputs e Selects maiores para facilitar o toque */
        select, input { 
            width: 100%; padding: 14px; margin-top: 5px; border-radius: 10px; 
            border: 1px solid #ddd; box-sizing: border-box; font-size: 16px; /* 16px evita zoom autom√°tico no iOS */
            background-color: #fff;
        }
        
        .checkbox-container { 
            display: flex; align-items: center; margin-top: 20px; background: #fff5f7; 
            padding: 12px; border-radius: 10px; border: 1px dashed #d88fa0; text-align: left;
        }
        .checkbox-container input { width: 22px; height: 22px; margin-right: 12px; margin-top: 0; }
        .checkbox-container label { margin-top: 0; font-size: 0.85em; cursor: pointer; color: #555; font-weight: normal; }

        button { 
            width: 100%; padding: 16px; margin-top: 25px; border: none; border-radius: 12px; 
            background: #d88fa0; color: white; font-weight: bold; font-size: 1.1em; 
            cursor: pointer; transition: 0.2s; -webkit-tap-highlight-color: transparent;
        }
        button:active { background: #c5768b; transform: scale(0.98); }
        
        .resultado { margin-top: 25px; background: #fff0f4; padding: 18px; border-radius: 12px; text-align: left; border-left: 6px solid #d88fa0; display: none; }
        .alerta { color: #d9534f; font-weight: bold; margin-top: 10px; padding: 10px; background: #f9d6d5; border-radius: 8px; font-size: 0.9em; }
        
        .dica-leigo { 
            margin-top: 15px; font-size: 0.9em; color: #555; background: #fff; 
            padding: 12px; border-radius: 8px; border: 1px solid #eee; line-height: 1.4;
        }
        
        .aviso { margin-top: 25px; font-size: 0.75em; color: #999; line-height: 1.5; padding: 0 10px; }
    </style>
</head>
<body>

<div class="container">
    <h1>üå∏ Simulador de Prazos</h1>
    <div class="subtitulo">Apoio ao Cidad√£o - TJPE</div>

    <label>√Årea do processo:</label>
    <select id="categoria" onchange="carregarSubcategorias()">
        <option value="">Selecione...</option>
        <option value="civil">C√≠vel (Justi√ßa Comum)</option>
        <option value="juizado">Juizado Especial</option>
        <option value="familia">Fam√≠lia / Alimentos</option>
        <option value="imobiliario">Imobili√°rio (Despejo)</option>
        <option value="despachos">Ordens do Juiz</option>
        <option value="urgentes">Busca e Apreens√£o</option>
        <option value="criminal">Criminal</option>
        <option value="violencia">Viol√™ncia Dom√©stica</option>
        <option value="eca">Inf√¢ncia e Juventude</option>
    </select>

    <label>Documento recebido:</label>
    <select id="ato">
        <option value="">Selecione a √°rea acima</option>
    </select>
  
    <label>Data que recebeu o papel:</label>
    <input type="date" id="data">

    <div class="checkbox-container">
        <input type="checkbox" id="prazoDobro">
        <label for="prazoDobro">Sou assistido pela <strong>Defensoria P√∫blica</strong> (Prazo em Dobro)</label>
    </div>

    <button onclick="calcular()">CALCULAR PRAZO FINAL</button>

    <div id="resultado" class="resultado"></div>

    <div class="aviso">
        <strong>Oficiala Belizza Ara√∫jo (TJPE)</strong><br>
        Este simulador √© educativo e n√£o substitui a orienta√ß√£o de um advogado. 
        Dados baseados no calend√°rio judici√°rio 2026.
    </div>
</div>

<script>
// O Javascript permanece o mesmo do anterior, apenas limpo de caracteres estranhos.
const prazos = {
    civil: {
        "Defesa (Contesta√ß√£o) - 15 dias": {dias: 15, tipo: "uteis", base: "Art. 335 CPC"},
        "Recorrer (Apela√ß√£o) - 15 dias": {dias: 15, tipo: "uteis", base: "Art. 1.003 CPC"},
        "Embargos de Declara√ß√£o - 5 dias": {dias: 5, tipo: "uteis", base: "Art. 1.023 CPC"},
        "Execu√ß√£o (Pagamento) - 3 dias": {dias: 3, tipo: "uteis", base: "Art. 829 CPC"}
    },
    juizado: {
        "Defesa ou Pagamento - 15 dias": {dias: 15, tipo: "uteis", base: "Lei 9.099/95"},
        "Recurso Inominado - 10 dias": {dias: 10, tipo: "uteis", base: "Art. 42 Lei 9.099"},
        "Embargos de Declara√ß√£o - 5 dias": {dias: 5, tipo: "uteis", base: "Art. 49 Lei 9.099"}
    },
    familia: {
        "Defesa em Alimentos - 15 dias": {dias: 15, tipo: "uteis", base: "Lei 5.478/68"},
        "Pagar ou Justificar - 3 dias": {dias: 3, tipo: "uteis", base: "Art. 528 CPC"}
    },
    imobiliario: {
        "Defesa em Despejo - 15 dias": {dias: 15, tipo: "uteis", base: "Lei 8.245/91"},
        "Sair do Im√≥vel - 30 dias": {dias: 30, tipo: "corridos", base: "Lei 8.245/91"}
    },
    despachos: {
        "Cumprir Ordem - 5 dias": {dias: 5, tipo: "uteis", base: "Art. 218 CPC"},
        "Cumprir Ordem - 10 dias": {dias: 10, tipo: "uteis", base: "Prazo Judicial"},
        "Cumprir Ordem - 15 dias": {dias: 15, tipo: "uteis", base: "Prazo Judicial"}
    },
    urgentes: {
        "Defesa (Busca e Apreens√£o) - 15 dias": {dias: 15, tipo: "uteis", base: "DL 911/69"},
        "Pagar para reaver ve√≠culo - 5 dias": {dias: 5, tipo: "corridos", base: "DL 911/69"}
    },
    criminal: {
        "Defesa (Resposta) - 10 dias": {dias: 10, tipo: "corridos", base: "Art. 396 CPP"},
        "Apela√ß√£o - 5 dias": {dias: 5, tipo: "corridos", base: "Art. 593 CPP"}
    },
    violencia: {
        "Defesa (Protetiva) - 5 dias": {dias: 5, tipo: "corridos", base: "Lei Maria da Penha"}
    },
    eca: {
        "Defesa Pr√©via - 3 dias": {dias: 3, tipo: "corridos", base: "Art. 186 ECA"},
        "Recurso ECA - 10 dias": {dias: 10, tipo: "corridos", base: "Art. 198 ECA"}
    }
};

const feriados = ["2026-01-01", "2026-02-16", "2026-02-17", "2026-02-18", "2026-03-06", "2026-04-02", "2026-04-03", "2026-04-21", "2026-05-01", "2026-06-22", "2026-06-24", "2026-07-16", "2026-08-10", "2026-09-07", "2026-10-12", "2026-10-30", "2026-11-02", "2026-11-20", "2026-12-08", "2026-12-25"];

function emRecesso(iso) {
    const d = new Date(iso + "T00:00:00");
    const junIn = new Date("2026-06-23T00:00:00"), junFim = new Date("2026-06-30T00:00:00");
    const anoIn = new Date("2026-12-20T00:00:00"), anoFim = new Date("2027-01-06T00:00:00");
    return (d >= junIn && d <= junFim) || (d >= anoIn && d <= anoFim);
}

function carregarSubcategorias() {
    const cat = document.getElementById("categoria").value;
    const ato = document.getElementById("ato");
    ato.innerHTML = '<option value="">Selecione o documento...</option>';
    if (!cat || !prazos[cat]) return;
    for (let item in prazos[cat]) {
        let opt = document.createElement("option");
        opt.value = item; opt.text = item; ato.appendChild(opt);
    }
}

function calcular() {
    const cat = document.getElementById("categoria").value, atoSel = document.getElementById("ato").value;
    const dataInic = document.getElementById("data").value, isDobro = document.getElementById("prazoDobro").checked;

    if (!cat || !atoSel || !dataInic) { alert("Preencha todos os campos!"); return; }

    const info = prazos[cat][atoSel];
    let qtd = isDobro ? info.dias * 2 : info.dias;
    let final = new Date(dataInic + "T00:00:00");
    
    if (info.tipo === "uteis") {
        let cont = 0;
        while (cont < qtd) {
            final.setDate(final.getDate() + 1);
            let iso = final.toISOString().split('T')[0];
            if (final.getDay() !== 0 && final.getDay() !== 6 && !feriados.includes(iso) && !emRecesso(iso)) cont++;
        }
    } else {
        final.setDate(final.getDate() + qtd);
    }

    const resDiv = document.getElementById("resultado");
    resDiv.style.display = "block";
    resDiv.innerHTML = `
        <div style="font-size: 1.1em; color: #7a4a52;"><strong>üìÖ Prazo Final: ${final.toLocaleDateString('pt-BR')}</strong></div>
        <div class="dica-leigo">
            <strong>Dica da Oficiala:</strong> Este prazo conta em <strong>${info.tipo}</strong>. Procure assist√™ncia jur√≠dica imediatamente!
        </div>
        <p style="font-size: 0.7em; color: #999; margin-top: 8px;">Base: ${info.base}</p>
    `;
    resDiv.scrollIntoView({ behavior: 'smooth' });
}
</script>
</body>
</html>
