<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador de Prazos TJPE - Belizza Ara√∫jo</title>
    <style>
        /* CONFIGURA√á√ïES GERAIS (LAPTOP & MOBILE) */
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: #fdf7fa; 
            margin: 0; 
            padding: 20px; 
            display: flex; 
            justify-content: center; 
            color: #444; 
        }

        .container { 
            background: white; 
            width: 100%; 
            max-width: 550px; /* Largura ideal para Laptop */
            padding: 30px; 
            border-radius: 20px; 
            box-shadow: 0 10px 30px rgba(183, 110, 121, 0.15); 
            border: 1px solid #f2e1e6;
        }

        h1 { color: #b76e79; font-size: 1.6em; margin-bottom: 5px; text-align: center; }
        .subtitulo { font-size: 0.9em; color: #888; margin-bottom: 25px; text-align: center; }

        label { display: block; margin-top: 15px; font-weight: 600; color: #7a4a52; font-size: 0.95em; }

        select, input { 
            width: 100%; 
            padding: 12px; 
            margin-top: 6px; 
            border-radius: 10px; 
            border: 1px solid #ddd; 
            box-sizing: border-box; 
            font-size: 16px; /* Evita zoom for√ßado no iPhone */
            transition: border 0.3s;
        }

        select:focus, input:focus { border-color: #d88fa0; outline: none; }

        .checkbox-container { 
            display: flex; 
            align-items: center; 
            margin-top: 20px; 
            background: #fff5f7; 
            padding: 15px; 
            border-radius: 12px; 
            border: 1px dashed #d88fa0; 
        }

        .checkbox-container input { width: 20px; height: 20px; margin-right: 12px; cursor: pointer; }
        .checkbox-container label { margin-top: 0; font-size: 0.9em; font-weight: normal; cursor: pointer; }

        button { 
            width: 100%; 
            padding: 15px; 
            margin-top: 25px; 
            border: none; 
            border-radius: 12px; 
            background: #d88fa0; 
            color: white; 
            font-weight: bold; 
            font-size: 1.1em; 
            cursor: pointer; 
            transition: background 0.3s, transform 0.2s;
        }

        button:hover { background: #c5768b; }
        button:active { transform: scale(0.98); }

        .resultado { 
            margin-top: 25px; 
            background: #fcfcfc; 
            padding: 20px; 
            border-radius: 12px; 
            border-left: 6px solid #d88fa0; 
            display: none; 
            text-align: left;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.02);
        }

        .dica-leigo { 
            margin-top: 12px; 
            font-size: 0.9em; 
            color: #555; 
            background: white; 
            padding: 10px; 
            border-radius: 8px; 
            border: 1px solid #eee; 
        }

        .footer { margin-top: 30px; font-size: 0.75em; color: #aaa; text-align: center; line-height: 1.6; }

        /* AJUSTES ESPEC√çFICOS PARA MOBILE */
        @media (max-width: 480px) {
            body { padding: 10px; }
            .container { padding: 20px; }
            h1 { font-size: 1.3em; }
            button { padding: 18px; } /* Bot√£o maior no celular */
        }
    </style>
</head>
<body>

<div class="container">
    <h1>üå∏ Simulador de Prazos</h1>
    <div class="subtitulo">Oficiala Belizza Ara√∫jo ‚Äì TJPE</div>

    <label>√Årea Jur√≠dica:</label>
    <select id="categoria" onchange="carregarSubcategorias()">
        <option value="">Selecione a √°rea...</option>
        <option value="civil">C√≠vel (Justi√ßa Comum)</option>
        <option value="juizado">Juizado Especial</option>
        <option value="familia">Fam√≠lia / Alimentos</option>
        <option value="imobiliario">Imobili√°rio (Despejo)</option>
        <option value="despachos">Ordens do Juiz</option>
        <option value="urgentes">Busca e Apreens√£o</option>
        <option value="criminal">Criminal</option>
        <option value="violencia">Viol√™ncia Dom√©stica</option>
        <option value="eca">Inf√¢ncia e Juventude</option>
    </select>

    <label>Tipo de Documento:</label>
    <select id="ato">
        <option value="">Selecione a √°rea acima primeiro</option>
    </select>
  
    <label>Data do Recebimento:</label>
    <input type="date" id="data">

    <div class="checkbox-container">
        <input type="checkbox" id="prazoDobro">
        <label for="prazoDobro">Tenho <strong>Defensoria P√∫blica</strong> ou Minist√©rio P√∫blico (Prazo em Dobro)</label>
    </div>

    <button onclick="calcular()">CALCULAR PRAZO</button>

    <div id="resultado" class="resultado"></div>

    <div class="footer">
        <strong>Aten√ß√£o:</strong> Calend√°rio Judici√°rio 2026.<br>
        Esta √© uma ferramenta informativa. N√£o substitui o advogado.<br>
        Prazos conforme CPC, CPP e Leis Especiais.
    </div>
</div>

<script>
const prazos = {
    civil: {
        "Defesa (Contesta√ß√£o) - 15 dias": {dias: 15, tipo: "√∫teis", base: "Art. 335 CPC"},
        "Apela√ß√£o (Recurso) - 15 dias": {dias: 15, tipo: "√∫teis", base: "Art. 1.003 CPC"},
        "Embargos de Declara√ß√£o - 5 dias": {dias: 5, tipo: "√∫teis", base: "Art. 1.023 CPC"},
        "Pagamento de Execu√ß√£o - 3 dias": {dias: 3, tipo: "√∫teis", base: "Art. 829 CPC"}
    },
    juizado: {
        "Defesa ou Pagamento - 15 dias": {dias: 15, tipo: "√∫teis", base: "Lei 9.099/95"},
        "Recurso Inominado - 10 dias": {dias: 10, tipo: "√∫teis", base: "Art. 42 Lei 9.099"},
        "Embargos de Declara√ß√£o - 5 dias": {dias: 5, tipo: "√∫teis", base: "Art. 49 Lei 9.099"}
    },
    familia: {
        "Defesa (Alimentos) - 15 dias": {dias: 15, tipo: "√∫teis", base: "Lei 5.478/68"},
        "Pagar ou Justificar - 3 dias": {dias: 3, tipo: "√∫teis", base: "Art. 528 CPC"}
    },
    imobiliario: {
        "Defesa (Despejo) - 15 dias": {dias: 15, tipo: "√∫teis", base: "Lei 8.245/91"},
        "Prazo para Desocupar - 30 dias": {dias: 30, tipo: "corridos", base: "Lei 8.245/91"}
    },
    despachos: {
        "Cumprir Ordem - 5 dias": {dias: 5, tipo: "√∫teis", base: "Art. 218 CPC"},
        "Cumprir Ordem - 10 dias": {dias: 10, tipo: "√∫teis", base: "Prazo Judicial"},
        "Cumprir Ordem - 15 dias": {dias: 15, tipo: "√∫teis", base: "Prazo Judicial"}
    },
    urgentes: {
        "Defesa (Busca e Apreens√£o) - 15 dias": {dias: 15, tipo: "√∫teis", base: "Dec-Lei 911/69"},
        "Pagar p/ reaver ve√≠culo - 5 dias": {dias: 5, tipo: "corridos", base: "Dec-Lei 911/69"}
    },
    criminal: {
        "Resposta √† Acusa√ß√£o - 10 dias": {dias: 10, tipo: "corridos", base: "Art. 396 CPP"},
        "Apela√ß√£o Criminal - 5 dias": {dias: 5, tipo: "corridos", base: "Art. 593 CPP"}
    },
    violencia: {
        "Defesa (Medida Protetiva) - 5 dias": {dias: 5, tipo: "corridos", base: "Lei 11.340/06"}
    },
    eca: {
        "Defesa Pr√©via - 3 dias": {dias: 3, tipo: "corridos", base: "Art. 186 ECA"},
        "Recurso ECA - 10 dias": {dias: 10, tipo: "corridos", base: "Art. 198 ECA"}
    }
};

const feriados = ["2026-01-01", "2026-02-16", "2026-02-17", "2026-02-18", "2026-03-06", "2026-04-02", "2026-04-03", "2026-04-21", "2026-05-01", "2026-06-22", "2026-06-24", "2026-07-16", "2026-08-10", "2026-09-07", "2026-10-12", "2026-10-30", "2026-11-02", "2026-11-20", "2026-12-08", "2026-12-25"];

function emRecesso(iso) {
    const d = new Date(iso + "T00:00:00");
    const junIn = new Date("2026-06-23T00:00:00"), junFim = new Date("2026-06-30T00:00:00");
    const anoIn = new Date("2026-12-20T00:00:00"), anoFim = new Date("2027-01-06T00:00:00");
    return (d >= junIn && d <= junFim) || (d >= anoIn && d <= anoFim);
}

function carregarSubcategorias() {
    const cat = document.getElementById("categoria").value;
    const ato = document.getElementById("ato");
    ato.innerHTML = '<option value="">Selecione o documento...</option>';
    if (!cat || !prazos[cat]) return;
    for (let item in prazos[cat]) {
        let opt = document.createElement("option");
        opt.value = item; opt.text = item; ato.appendChild(opt);
    }
}

function calcular() {
    const cat = document.getElementById("categoria").value, atoSel = document.getElementById("ato").value;
    const dataInic = document.getElementById("data").value, isDobro = document.getElementById("prazoDobro").checked;

    if (!cat || !atoSel || !dataInic) { alert("Por favor, preencha todos os campos."); return; }

    const info = prazos[cat][atoSel];
    let qtd = isDobro ? info.dias * 2 : info.dias;
    let final = new Date(dataInic + "T00:00:00");
    
    if (info.tipo === "√∫teis") {
        let cont = 0;
        while (cont < qtd) {
            final.setDate(final.getDate() + 1);
            let iso = final.toISOString().split('T')[0];
            if (final.getDay() !== 0 && final.getDay() !== 6 && !feriados.includes(iso) && !emRecesso(iso)) cont++;
        }
    } else {
        final.setDate(final.getDate() + qtd);
    }

    const resDiv = document.getElementById("resultado");
    resDiv.style.display = "block";
    resDiv.innerHTML = `
        <div style="font-size: 1.1em; color: #7a4a52; margin-bottom: 10px;"><strong>üìÖ Prazo Final: ${final.toLocaleDateString('pt-BR')}</strong></div>
        <div class="dica-leigo">
            <strong>Dica da Oficiala:</strong> Este prazo √© contado em dias <strong>${info.tipo}</strong>. <br><br>
            Aten√ß√£o: A contagem oficial geralmente come√ßa ap√≥s a devolu√ß√£o do mandado ao sistema. Procure assist√™ncia jur√≠dica urgente!
        </div>
        <p style="font-size: 0.75em; color: #999; margin-top: 12px; border-top: 1px solid #eee; padding-top: 10px;">
            Fundamento Legal: ${info.base} | Prazo total: ${qtd} dias.
        </p>
    `;
}
</script>
</body>
</html>
